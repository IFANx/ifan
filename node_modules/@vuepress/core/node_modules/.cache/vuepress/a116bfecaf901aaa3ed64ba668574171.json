{"remainingRequest":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/cache-loader/dist/cjs.js??ref--3-0!/Users/kkxu/NodeProjects/ifan/ifan/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/kkxu/NodeProjects/ifan/ifan/node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!/Users/kkxu/NodeProjects/ifan/ifan/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kkxu/NodeProjects/ifan/ifan/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/kkxu/NodeProjects/ifan/ifan/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/Users/kkxu/NodeProjects/ifan/ifan/resource/Notes/JVM/SpringBoot/SpringBoot接口 - 如何实现接口限流之分布式.md?vue&type=template&id=5acfb4c4&","dependencies":[{"path":"/Users/kkxu/NodeProjects/ifan/ifan/resource/Notes/JVM/SpringBoot/SpringBoot接口 - 如何实现接口限流之分布式.md","mtime":1686399046258},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/cache-loader/dist/cjs.js","mtime":1682315774467},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/cache-loader/dist/cjs.js","mtime":1682315774467},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/babel-loader/lib/index.js","mtime":1682315774434},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1682315775411},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/cache-loader/dist/cjs.js","mtime":1682315774467},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/vue-loader/lib/index.js","mtime":1682315775411},{"path":"/Users/kkxu/NodeProjects/ifan/ifan/node_modules/@vuepress/markdown-loader/index.js","mtime":1682315774367}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICB2YXIgX3ZtID0gdGhpcywKICAgIF9jID0gX3ZtLl9zZWxmLl9jOwogIHJldHVybiBfYygnQ29udGVudFNsb3RzRGlzdHJpYnV0b3InLCB7CiAgICBhdHRyczogewogICAgICAic2xvdC1rZXkiOiBfdm0uJHBhcmVudC5zbG90S2V5CiAgICB9CiAgfSwgW19jKCdoMScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJzcHJpbmdib2905o6l5Y+jLeWmguS9leWunueOsOaOpeWPo+mZkOa1geS5i+WIhuW4g+W8jyIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI3NwcmluZ2Jvb3TmjqXlj6Mt5aaC5L2V5a6e546w5o6l5Y+j6ZmQ5rWB5LmL5YiG5biD5byPIgogICAgfQogIH0sIFtfdm0uX3YoIiMiKV0pLCBfdm0uX3YoIiBTcHJpbmdCb2905o6l5Y+jIC0g5aaC5L2V5a6e546w5o6l5Y+j6ZmQ5rWB5LmL5YiG5biD5byPIildKSwgX3ZtLl92KCIgIiksIF9jKCdibG9ja3F1b3RlJywgW19jKCdwJywgW192bS5fdigi5LiK5paH5Lit5LuL57uN5LqG5Y2V5a6e5L6L5LiL5aaC5L2V5Zyo5Lia5Yqh5o6l5Y+j5bGC5YGa6ZmQ5rWB77yM5pys5paH5Li76KaB5LuL57uN5YiG5biD5byP5Zy65pmv5LiL6ZmQ5rWB55qE5pa55qGI77yM5Lul5Y+K5LuA5LmI5qC355qE5YiG5biD5byP5Zy65pmv5LiL6ZyA6KaB5Zyo5Lia5Yqh5bGC5Yqg6ZmQ5rWB6ICM5LiN5piv5o6l5YWl5bGCOyDlubbkuJTnu5PlkIgiKSwgX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICJodHRwczovL2dpdGVlLmNvbS9rYWlsaW5nL3JhdGVsaW1pdGVyLXNwcmluZy1ib290LXN0YXJ0ZXIiLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX3ZtLl92KCLlvIDmupDnmoRyYXRlbGltaXRlci1zcHJpbmctYm9vdC1zdGFydGVy5Zyo5paw56qX5Y+j5omT5byAIiksIF9jKCdPdXRib3VuZExpbmsnKV0sIDEpLCBfdm0uX3YoIuS4uuS+i++8jOS9nOiAheaYr2thaWxpbmfvvIwg5a2m5LmgIiksIF9jKCdzdHJvbmcnLCBbX3ZtLl92KCLmgJ3ot68r5Luj56CB5bCB6KOFK3N0YXJ0ZXLlsIHoo4UiKV0pLCBfdm0uX3YoIuOAgiIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdocicpLCBfdm0uX3YoIiAiKSwgX2MoJ2gyJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIuWHhuWkh+efpeivhueCuSIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+WHhuWkh+efpeivhueCuSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5YeG5aSH55+l6K+G54K5IildKSwgX3ZtLl92KCIgIiksIF9jKCdibG9ja3F1b3RlJywgW19jKCdwJywgW192bS5fdigi5LiK5paH5oiR5Lus5o+Q5Yiw5LqG5YiG5biD5byP6ZmQ5rWB55qE5oCd6Lev77yaIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCBbX3ZtLl92KCLmiJHku6zpnIDopoEiKSwgX2MoJ3N0cm9uZycsIFtfdm0uX3YoIuWIhuW4g+W8j+mZkOa1gSIpXSksIF92bS5fdigi5ZKMIiksIF9jKCdzdHJvbmcnLCBbX3ZtLl92KCLmjqXlhaXlsYLpmZDmtYEiKV0pLCBfdm0uX3YoIuadpei/m+ihjOWFqOWxgOmZkOa1geOAgiIpXSksIF92bS5fdigiICIpLCBfYygnb2wnLCBbX2MoJ2xpJywgW192bS5fdigicmVkaXMrbHVh5a6e546w5Lit55qEbHVh6ISa5pysIildKSwgX3ZtLl92KCIgIiksIF9jKCdsaScsIFtfdm0uX3YoIuS9v+eUqE5naW54K0x1YeWunueOsOeahEx1YeiEmuacrCIpXSksIF92bS5fdigiICIpLCBfYygnbGknLCBbX3ZtLl92KCLkvb/nlKggT3BlblJlc3R5IOW8gOa6kOeahOmZkOa1geaWueahiCIpXSksIF92bS5fdigiICIpLCBfYygnbGknLCBbX3ZtLl92KCLpmZDmtYHmoYbmnrbvvIzmr5TlpoJTZW50aW5lbOWunueOsOmZjee6p+mZkOa1geeGlOaWrSIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdoMicsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICLlrp7njrDmgJ3ot6/kuYtyZWRpcy1sdWHlsIHoo4UiCiAgICB9CiAgfSwgW19jKCdhJywgewogICAgc3RhdGljQ2xhc3M6ICJoZWFkZXItYW5jaG9yIiwKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiPlrp7njrDmgJ3ot6/kuYtyZWRpcy1sdWHlsIHoo4UiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiICIpLCBfYygnYScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiMlRTUlQUUlOUUlRTclOEUlQjAlRTYlODAlOUQlRTglQjclQUYlRTQlQjklOEJyZWRpcy1sdWElRTUlQjAlODElRTglQTMlODUiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiIOWunueOsOaAnei3r+S5i3JlZGlzK2x1YeWwgeijhSIpXSksIF92bS5fdigiICIpLCBfYygnYmxvY2txdW90ZScsIFtfYygncCcsIFtfdm0uX3YoInJlZGlzK2x1YeaYr+S7o+eggeWxguWunueOsOi+g+S4uuW4uOingeeahOaWueahiO+8jOe9keS4iuacieW+iOWkmueahOWwgeijhe+8jCDmiJHov5nph4zmib7kuIDkuKrnu5nkvaDliIbkuqvkuIvjgILku6UiKSwgX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICJodHRwczovL2dpdGVlLmNvbS9rYWlsaW5nL3JhdGVsaW1pdGVyLXNwcmluZy1ib290LXN0YXJ0ZXIiLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX3ZtLl92KCJnaXRlZeW8gOa6kOeahHJhdGVsaW1pdGVyLXNwcmluZy1ib290LXN0YXJ0ZXLlnKjmlrDnqpflj6PmiZPlvIAiKSwgX2MoJ091dGJvdW5kTGluaycpXSwgMSksIF92bS5fdigi5Li65L6L77yM5L2c6ICF5piva2FpbGluZ++8jCDlgLzlvpfliJ3lrabogIXlrabkuaAiKSwgX2MoJ3N0cm9uZycsIFtfdm0uX3YoIuaAnei3ryvku6PnoIHlsIHoo4Urc3RhcnRlcuWwgeijhSIpXSksIF92bS5fdigi77yaIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gzJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIuS9v+eUqOWcuuaZry3kuLrku4DkuYjmnInkupvliIbluIPlvI/lnLrmma/kuIst6L+Y5Lya5Zyo5Luj56CB5bGC6L+b6KGM5o6n5Yi26ZmQ5rWBIgogICAgfQogIH0sIFtfYygnYScsIHsKICAgIHN0YXRpY0NsYXNzOiAiaGVhZGVyLWFuY2hvciIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6ICIj5L2/55So5Zy65pmvLeS4uuS7gOS5iOacieS6m+WIhuW4g+W8j+WcuuaZr+S4iy3ov5jkvJrlnKjku6PnoIHlsYLov5vooYzmjqfliLbpmZDmtYEiCiAgICB9CiAgfSwgW192bS5fdigiIyIpXSksIF92bS5fdigiICIpLCBfYygnYScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogIiMlRTQlQkQlQkYlRTclOTQlQTglRTUlOUMlQkElRTYlOTklQUYtJUU0JUI4JUJBJUU0JUJCJTgwJUU0JUI5JTg4JUU2JTlDJTg5JUU0JUJBJTlCJUU1JTg4JTg2JUU1JUI4JTgzJUU1JUJDJThGJUU1JTlDJUJBJUU2JTk5JUFGJUU0JUI4JThCLSVFOCVCRiU5OCVFNCVCQyU5QSVFNSU5QyVBOCVFNCVCQiVBMyVFNyVBMCU4MSVFNSVCMSU4MiVFOCVCRiU5QiVFOCVBMSU4QyVFNiU4RSVBNyVFNSU4OCVCNiVFOSU5OSU5MCVFNiVCNSU4MSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5L2/55So5Zy65pmv77ya5Li65LuA5LmI5pyJ5Lqb5YiG5biD5byP5Zy65pmv5LiL77yM6L+Y5Lya5Zyo5Luj56CB5bGC6L+b6KGM5o6n5Yi26ZmQ5rWB77yfIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5Z+65LqOIHJlZGlzIOeahOWBj+S4muWKoeW6lOeUqOeahOWIhuW4g+W8j+mZkOa1gee7hOS7tu+8jOS9v+W+l+mhueebruaLpeacieWIhuW4g+W8j+mZkOa1geiDveWKm+WPmOW+l+W+iOeugOWNleOAgumZkOa1geeahOWcuuaZr+acieW+iOWkmu+8jOW4uOivtOeahOmZkOa1geS4gOiIrOaMh+e9keWFs+mZkOa1ge+8jOaOp+WItuWlvea0quWzsOa1gemHj++8jOS7peWFjeaJk+WeruWQjuaWueW6lOeUqOOAgui/memHjOeqgeWHuiIpLCBfYygnY29kZScsIFtfdm0uX3YoIuWBj+S4muWKoeW6lOeUqOeahOWIhuW4g+W8j+mZkOa1gSIpXSksIF92bS5fdigi55qE5Y6f5Zug77yM5piv5Zug5Li65Yy65Yir5LqO572R5YWz6ZmQ5rWB77yM5Lia5Yqh5L6n6ZmQ5rWB5Y+v5Lul6L275p2+5qC55o2u5Lia5Yqh5oCn6LSo5YGa5Yiw57uG57KS5bqm55qE5rWB6YeP5o6n5Yi244CC5q+U5aaC5aaC5LiL5Zy65pmv77yMIildKSwgX3ZtLl92KCIgIiksIF9jKCd1bCcsIFtfYygnbGknLCBbX3ZtLl92KCLmoYjkvovkuIDvvJoiKV0pXSksIF92bS5fdigiICIpLCBfYygncCcsIFtfdm0uX3YoIuacieS4gOS4quWFrOW8gOeahCBvcGVuQXBpIOaOpeWPo++8jCBvcGVuQXBpIOS8mue7meaOpeWFpeaWuea0vuWPkeS4gOS4qiBhcHBJZO+8jOatpOaXtu+8jOWmguaenOmcgOimgeagueaNruWQhOS4quaOpeWFpeaWueeahCBhcHBJZCDpmZDmtYHvvIznvZHlhbPpmZDmtYHlsLHkuI3lpb3lgZrkuobvvIzlj6rog73lnKjkuJrliqHkvqflrp7njrAiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3VsJywgW19jKCdsaScsIFtfdm0uX3YoIuahiOS+i+S6jO+8miIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi5YWs5Y+45YaF6YOo55qE55+t5L+h5o6l5Y+j77yM5YaF6YOo5a+55o6l5LqG5aSa5Liq56ys5LiJ5pa555qE55+t5L+h6YCa6YGT77yM5q+P5Liq55+t5L+h6YCa6YGT5a+55rWB6YeP55qE5o6n5Yi26YO95LiN5bC955u45ZCM77yM5YGH6K6+5pyJ55qE56ys5LiJ5pa55qC55o2u5omL5py65Y+35ZKM55+t5L+h5qih5p2/57uE5ZCI6ZmQ5rWB77yM572R5YWz6ZmQ5rWB5bCx5pu05LiN5aW95YGa5LqGIildKSwgX3ZtLl92KCIgIiksIF9jKCdwJywgW192bS5fdigi6K6p5oiR5Lus55yL5LiL77yM5L2c6ICFa2FpbGluZ+aYr+WmguS9leWwgeijheWunueOsHJhdGVsaW1pdGVyLXNwcmluZy1ib290LXN0YXJ0ZXLnmoTjgIIiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2gzJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogIua6kOS7o+eggeeahOimgeeCuSIKICAgIH0KICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogImhlYWRlci1hbmNob3IiLAogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiI+a6kOS7o+eggeeahOimgeeCuSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIgIiksIF9jKCdhJywgewogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiIyVFNiVCQSU5MCVFNCVCQiVBMyVFNyVBMCU4MSVFNyU5QSU4NCVFOCVBNiU4MSVFNyU4MiVCOSIKICAgIH0KICB9LCBbX3ZtLl92KCIjIildKSwgX3ZtLl92KCIg5rqQ5Luj56CB55qE6KaB54K5IildKSwgX3ZtLl92KCIgIiksIF9jKCd1bCcsIFtfYygnbGknLCBbX2MoJ3N0cm9uZycsIFtfdm0uX3YoIlJlZGlzIOWuouaIt+err+mHh+eUqHJlZGlzc29u77yMQU9Q5oum5oiq5pa55byPIildKV0pXSldKTsKfTsKdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdOwpleHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9Ow=="},{"version":3,"names":["render","_vm","_c","_self","attrs","$parent","slotKey","staticClass","_v","staticRenderFns"],"sources":["/Users/kkxu/NodeProjects/ifan/ifan/resource/Notes/JVM/SpringBoot/SpringBoot接口 - 如何实现接口限流之分布式.md"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"springboot接口-如何实现接口限流之分布式\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#springboot接口-如何实现接口限流之分布式\"}},[_vm._v(\"#\")]),_vm._v(\" SpringBoot接口 - 如何实现接口限流之分布式\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"上文中介绍了单实例下如何在业务接口层做限流，本文主要介绍分布式场景下限流的方案，以及什么样的分布式场景下需要在业务层加限流而不是接入层; 并且结合\"),_c('a',{attrs:{\"href\":\"https://gitee.com/kailing/ratelimiter-spring-boot-starter\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"开源的ratelimiter-spring-boot-starter在新窗口打开\"),_c('OutboundLink')],1),_vm._v(\"为例，作者是kailing， 学习\"),_c('strong',[_vm._v(\"思路+代码封装+starter封装\")]),_vm._v(\"。\")])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"准备知识点\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#准备知识点\"}},[_vm._v(\"#\")]),_vm._v(\" 准备知识点\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"上文我们提到了分布式限流的思路：\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"我们需要\"),_c('strong',[_vm._v(\"分布式限流\")]),_vm._v(\"和\"),_c('strong',[_vm._v(\"接入层限流\")]),_vm._v(\"来进行全局限流。\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"redis+lua实现中的lua脚本\")]),_vm._v(\" \"),_c('li',[_vm._v(\"使用Nginx+Lua实现的Lua脚本\")]),_vm._v(\" \"),_c('li',[_vm._v(\"使用 OpenResty 开源的限流方案\")]),_vm._v(\" \"),_c('li',[_vm._v(\"限流框架，比如Sentinel实现降级限流熔断\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"实现思路之redis-lua封装\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#实现思路之redis-lua封装\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"#%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF%E4%B9%8Bredis-lua%E5%B0%81%E8%A3%85\"}},[_vm._v(\"#\")]),_vm._v(\" 实现思路之redis+lua封装\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"redis+lua是代码层实现较为常见的方案，网上有很多的封装， 我这里找一个给你分享下。以\"),_c('a',{attrs:{\"href\":\"https://gitee.com/kailing/ratelimiter-spring-boot-starter\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"gitee开源的ratelimiter-spring-boot-starter在新窗口打开\"),_c('OutboundLink')],1),_vm._v(\"为例，作者是kailing， 值得初学者学习\"),_c('strong',[_vm._v(\"思路+代码封装+starter封装\")]),_vm._v(\"：\")])]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"使用场景-为什么有些分布式场景下-还会在代码层进行控制限流\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#使用场景-为什么有些分布式场景下-还会在代码层进行控制限流\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%BA%9B%E5%88%86%E5%B8%83%E5%BC%8F%E5%9C%BA%E6%99%AF%E4%B8%8B-%E8%BF%98%E4%BC%9A%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%B1%82%E8%BF%9B%E8%A1%8C%E6%8E%A7%E5%88%B6%E9%99%90%E6%B5%81\"}},[_vm._v(\"#\")]),_vm._v(\" 使用场景：为什么有些分布式场景下，还会在代码层进行控制限流？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"基于 redis 的偏业务应用的分布式限流组件，使得项目拥有分布式限流能力变得很简单。限流的场景有很多，常说的限流一般指网关限流，控制好洪峰流量，以免打垮后方应用。这里突出\"),_c('code',[_vm._v(\"偏业务应用的分布式限流\")]),_vm._v(\"的原因，是因为区别于网关限流，业务侧限流可以轻松根据业务性质做到细粒度的流量控制。比如如下场景，\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"案例一：\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"有一个公开的 openApi 接口， openApi 会给接入方派发一个 appId，此时，如果需要根据各个接入方的 appId 限流，网关限流就不好做了，只能在业务侧实现\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"案例二：\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"公司内部的短信接口，内部对接了多个第三方的短信通道，每个短信通道对流量的控制都不尽相同，假设有的第三方根据手机号和短信模板组合限流，网关限流就更不好做了\")]),_vm._v(\" \"),_c('p',[_vm._v(\"让我们看下，作者kailing是如何封装实现ratelimiter-spring-boot-starter的。\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"源代码的要点\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#源代码的要点\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"#%E6%BA%90%E4%BB%A3%E7%A0%81%E7%9A%84%E8%A6%81%E7%82%B9\"}},[_vm._v(\"#\")]),_vm._v(\" 源代码的要点\")]),_vm._v(\" \"),_c('ul',[_c('li',[_c('strong',[_vm._v(\"Redis 客户端采用redisson，AOP拦截方式\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"mappings":"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"}]}