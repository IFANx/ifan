(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{317:function(t,s,a){"use strict";a.r(s);var e=a(14),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"springboot集成redis-基于redistemplate-jedis的数据操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#springboot集成redis-基于redistemplate-jedis的数据操作"}},[t._v("#")]),t._v(" SpringBoot集成Redis - 基于RedisTemplate+Jedis的数据操作")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis是最常用的KV数据库，Spring 通过模板方式（RedisTemplate）提供了对Redis的数据查询和操作功能。本文主要介绍基于RedisTemplate + Jedis方式对Redis进行查询和操作的案例。")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("https://pdai.tech/md/spring/springboot/springboot-x-redis-jedis.html")]),t._v(" "),s("h3",{attrs:{id:"redis基础和5种基础数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis基础和5种基础数据类型"}},[t._v("#")]),t._v(" Redis基础和5种基础数据类型")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis 相关的知识体系，请参考 "),s("a",{attrs:{href:""}},[t._v("Redis知识体系")])])]),t._v(" "),s("p",[t._v("首先对redis来说，所有的key（键）都是字符串。我们在谈基础数据结构时，讨论的是存储值的数据类型，主要包括常见的5种数据类型，分别是：String、List、Set、Zset、Hash。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/db/redis/db-redis-ds-1.jpeg",alt:"img"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("结构类型")]),t._v(" "),s("th",[t._v("结构存储的值")]),t._v(" "),s("th",[t._v("结构的读写能力")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("String字符串")])]),t._v(" "),s("td",[t._v("可以是字符串、整数或浮点数")]),t._v(" "),s("td",[t._v("对整个字符串或字符串的一部分进行操作；对整数或浮点数进行自增或自减操作；")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("List列表")])]),t._v(" "),s("td",[t._v("一个链表，链表上的每个节点都包含一个字符串")]),t._v(" "),s("td",[t._v("对链表的两端进行push和pop操作，读取单个或多个元素；根据值查找或删除元素；")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Set集合")])]),t._v(" "),s("td",[t._v("包含字符串的无序集合")]),t._v(" "),s("td",[t._v("字符串的集合，包含基础的方法有看是否存在添加、获取、删除；还包含计算交集、并集、差集等")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Hash散列")])]),t._v(" "),s("td",[t._v("包含键值对的无序散列表")]),t._v(" "),s("td",[t._v("包含方法有添加、获取、删除单个元素")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Zset有序集合")])]),t._v(" "),s("td",[t._v("和散列一样，用于存储键值对")]),t._v(" "),s("td",[t._v("字符串成员与浮点数分数之间的有序映射；元素的排列顺序由分数的大小决定；包含方法有添加、获取、删除单个元素以及根据分值范围或成员来获取元素")])])])]),t._v(" "),s("h3",{attrs:{id:"什么是jedis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是jedis"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AFjedis"}},[t._v("#")]),t._v(" 什么是Jedis")]),t._v(" "),s("p",[t._v("Jedis是Redis的Java客户端，在SpringBoot 1.x版本中也是默认的客户端。在SpringBoot 2.x版本中默认客户端是Luttuce。")]),t._v(" "),s("h3",{attrs:{id:"spring中的template和redistemplate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring中的template和redistemplate"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"#spring%E4%B8%AD%E7%9A%84template%E5%92%8Credistemplate"}},[t._v("#")]),t._v(" Spring中的Template和RedisTemplate")]),t._v(" "),s("blockquote",[s("p",[t._v("Spring 通过模板方式（RedisTemplate）提供了对Redis的数据查询和操作功能。")])]),t._v(" "),s("p",[s("strong",[t._v("什么是模板模式")]),t._v("？")]),t._v(" "),s("p",[t._v("模板方法模式(Template pattern): 在一个方法中定义一个算法的骨架, 而将一些步骤延迟到子类中. 模板方法使得子类可以在不改变算法结构的情况下, 重新定义算法中的某些步骤。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/pics/c3c1c0e8-3a78-4426-961f-b46dd0879dd8.png",alt:"img"}})]),t._v(" "),s("p",[s("strong",[t._v("Spring中有哪些模板模式的设计")]),t._v("？")]),t._v(" "),s("p",[t._v("比如：jdbcTemplate, mongodbTemplate, elasticsearchTemplate...等等")]),t._v(" "),s("p",[s("strong",[t._v("RedisTemplate对于Redis5种基础类型的操作")]),t._v("？")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("redisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作字符串")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作hash")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作list")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作set")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForZSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作zset")]),t._v("\n")])])]),s("p",[s("strong",[t._v("对HyperLogLogs（基数统计）类型的操作")]),t._v("?")]),t._v(" "),s("p",[t._v("相关内容请"),s("a",{attrs:{href:""}},[t._v("参考: Redis特殊数据类型 HyperLogLogs")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("redisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForHyperLogLog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("对geospatial (地理位置)类型的操作")]),t._v("?")]),t._v(" "),s("p",[t._v("相关内容请"),s("a",{attrs:{href:""}},[t._v("参考: Redis特殊数据类型 geospatial")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("redisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForGeo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("对于BitMap的操作")]),t._v("？也是在opsForValue()方法返回类型ValueOperations中")]),t._v(" "),s("p",[t._v("相关内容请"),s("a",{attrs:{href:""}},[t._v("参考: Redis特殊数据类型 BitMap")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" offset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" offset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("对于Stream的操作")]),t._v("？")]),t._v(" "),s("p",[t._v("相关内容请"),s("a",{attrs:{href:""}},[t._v("参考: Redis Stream 详解")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("redisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"spring中的template和redistemplate-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring中的template和redistemplate-2"}},[t._v("#")]),t._v(" Spring中的Template和RedisTemplate")]),t._v(" "),s("blockquote",[s("p",[t._v("Spring 通过模板方式（RedisTemplate）提供了对Redis的数据查询和操作功能。")])]),t._v(" "),s("p",[s("strong",[t._v("什么是模板模式")]),t._v("？")]),t._v(" "),s("p",[t._v("模板方法模式(Template pattern): 在一个方法中定义一个算法的骨架, 而将一些步骤延迟到子类中. 模板方法使得子类可以在不改变算法结构的情况下, 重新定义算法中的某些步骤。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/pics/c3c1c0e8-3a78-4426-961f-b46dd0879dd8.png",alt:"img"}})]),t._v(" "),s("p",[s("strong",[t._v("Spring中有哪些模板模式的设计")]),t._v("？")]),t._v(" "),s("p",[t._v("比如：jdbcTemplate, mongodbTemplate, elasticsearchTemplate...等等")]),t._v(" "),s("p",[s("strong",[t._v("RedisTemplate对于Redis5种基础类型的操作")]),t._v("？")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("redisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作字符串")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作hash")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作list")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作set")]),t._v("\nredisTemplate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("opsForZSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 操作zset")]),t._v("\n")])])]),s("p",[s("strong",[t._v("对HyperLogLogs（基数统计）类型的操作")]),t._v("?")]),t._v(" "),s("hr")])}),[],!1,null,null,null);s.default=n.exports}}]);