<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JVM相关 | Notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="办法总比问题多">
    
    <link rel="preload" href="/ifan/assets/css/0.styles.449c03be.css" as="style"><link rel="preload" href="/ifan/assets/js/app.e2c1e3a4.js" as="script"><link rel="preload" href="/ifan/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/ifan/assets/js/9.2a317ffb.js" as="script"><link rel="prefetch" href="/ifan/assets/js/10.a5d30350.js"><link rel="prefetch" href="/ifan/assets/js/11.193f2f18.js"><link rel="prefetch" href="/ifan/assets/js/12.650e7240.js"><link rel="prefetch" href="/ifan/assets/js/13.2ffb38a9.js"><link rel="prefetch" href="/ifan/assets/js/14.686f1672.js"><link rel="prefetch" href="/ifan/assets/js/15.9dc17e8f.js"><link rel="prefetch" href="/ifan/assets/js/16.f94af3f1.js"><link rel="prefetch" href="/ifan/assets/js/17.519d878b.js"><link rel="prefetch" href="/ifan/assets/js/18.a36a3f5e.js"><link rel="prefetch" href="/ifan/assets/js/19.e81cfdfd.js"><link rel="prefetch" href="/ifan/assets/js/20.1c6e59a7.js"><link rel="prefetch" href="/ifan/assets/js/21.ad295191.js"><link rel="prefetch" href="/ifan/assets/js/22.d0af333a.js"><link rel="prefetch" href="/ifan/assets/js/23.6f4a5799.js"><link rel="prefetch" href="/ifan/assets/js/3.d2aa3173.js"><link rel="prefetch" href="/ifan/assets/js/4.fc333d27.js"><link rel="prefetch" href="/ifan/assets/js/5.bfef3080.js"><link rel="prefetch" href="/ifan/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/ifan/assets/js/7.ee1b38f5.js"><link rel="prefetch" href="/ifan/assets/js/8.4cd0d57b.js">
    <link rel="stylesheet" href="/ifan/assets/css/0.styles.449c03be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ifan/" class="home-link router-link-active"><!----> <span class="site-name">Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ifan/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="what?" class="dropdown-title"><span class="title">what?</span> <span class="arrow down"></span></button> <button type="button" aria-label="what?" class="mobile-dropdown-title"><span class="title">what?</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/IFANx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/IFANx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ifan/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="what?" class="dropdown-title"><span class="title">what?</span> <span class="arrow down"></span></button> <button type="button" aria-label="what?" class="mobile-dropdown-title"><span class="title">what?</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/IFANx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/IFANx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ifan/Notes/JVM/java的反射机制.html" class="sidebar-link">java的反射机制</a></li><li><a href="/ifan/Notes/JVM/Java集合.html" class="sidebar-link">Java集合</a></li><li><a href="/ifan/Notes/JVM/JVM相关.html" class="active sidebar-link">JVM相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ifan/Notes/JVM/JVM相关.html#二、jre、jdk和jvm的关系" class="sidebar-link">二、JRE、JDK和JVM的关系</a></li></ul></li><li><a href="/ifan/Notes/JVM/Java基础.html" class="sidebar-link">Java基础</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Notes</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jvm相关"><a href="#jvm相关" class="header-anchor">#</a> JVM相关</h1> <p><strong>1、Java 为什么能一次编写，处处运行？</strong></p> <p>各种不同平台的虚拟机与所有平台都统一使用的程序存储格式——字节码（ByteCode）是构成平台无关性的基石。实现语言无关性的基础仍然是虚拟机和字节码存储格式。Java虚拟机不和包括Java在内的任何语言绑定，它只与“Class文件”这种特定的二进制文件格式所关联，Class文件中包含了Java虚拟机指令集和符号表以及若干其他辅助信息。</p> <p>使用Java编译器可以把Java代码编译为存储字节码的Class文件，使用JRuby等其他语言的编译器一样可以把程序代码编译成Class文件，虚拟机并不关心Class的来源是何种语言。</p> <p><img src="http://8.130.25.175:8080/img/20210610235143166.png" alt=""></p> <p>Java语言中的各种变量、关键字和运算符号的语义最终都是由多条字节码命令组合而成的，因此字节码命令所能提供的语义描述能力肯定会比Java语言本身更加强大。因此，有一些Java语言本身无法有效支持的语言特性不代表字节码本身无法有效支持，这也为其他语言实现一些有别于Java的语言特性提供了基础。</p> <p>总结：</p> <ul><li><p>虚拟机不绑定java语言</p></li> <li><p>虚拟机并不关心Class的来源是何种语言</p></li> <li><p>字节码命令所能提供的语义描述能力肯定会比Java语言本身更加强大</p></li></ul> <p><strong>2、JVM 是什么？</strong></p> <p>JVM是Java Virtual Machine（Java虚拟机）的缩写，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。由<strong>一套字节码指令集、一组寄存器、一个栈、一个垃圾回收堆和一个存储方法域等</strong>组成。JVM屏蔽了与操作系统平台相关的信息，使得Java程序只需要生成在Java虚拟机上运行的目标代码（字节码），就可在多种平台上不加修改的运行，这也是Java能够“<strong>一次编译，到处运行的</strong>”原因。</p> <h2 id="二、jre、jdk和jvm的关系"><a href="#二、jre、jdk和jvm的关系" class="header-anchor">#</a> 二、JRE、JDK和JVM的关系</h2> <p>**JRE（Java Runtime Environment， Java运行环境）**是Java平台，所有的程序都要在JRE下才能够运行。包括JVM和Java核心类库和支持文件。</p> <p>**JDK（Java Development Kit，Java开发工具包）**是用来编译、调试Java程序的开发工具包。包括Java工具（javac/java/jdb等）和Java基础的类库 java API。</p> <p>**JVM（Java Virtual Machine， Java虚拟机）**是JRE的一部分。JVM主要工作是解释自己的指令集（即字节码）并映射到本地的CPU指令集和OS的系统调用。Java语言是跨平台运行的，<strong>不同的操作系统会有不同的JVM映射规则，使之与操作系统无关，完成跨平台性</strong>。</p> <p>JRE，JDK，JVM关系</p> <p><img src="http://8.130.25.175:8080/img/image-20230523212953512.png" alt="image-20230523212953512"></p> <p>总结：使用JDK（调用JAVA API）开发JAVA程序后，通过JDK中的编译程序（javac）将Java程序编译为Java字节码，在JRE上运行这些字节码，JVM会解析并映射到真实操作系统的CPU指令集和OS的系统调用。</p> <p><strong>3、HotSpot 是什么？</strong></p> <p>提起HotSpot VM，相信所有Java程序员都知道，它是Sun JDK和OpenJDK中所带的虚拟机，也是目前使用范围最广的Java虚拟机。</p> <p>SUN的JDK版本从1.3.1开始运用HotSpot虚拟机， 2006年底开源，主要使用C++实现，JNI接口部分用C实现。</p> <p>Java原先是把源代码编译为字节码在虚拟机执行，这样执行速度较慢。而HotSpot将常用的部分代码编译为本地(原生，native)代码，这样显着提高了性能。</p> <p>HotSpot基础知识</p> <p>HotSpot包括一个解释器和两个编译器（client 和 server，二选一的），解释与编译混合执行模式，默认启动解释执行。</p> <p>编译器：java源代码被编译器编译成class文件（字节码），java字节码在运行时可以被动态编译（JIT）成本地代码(前提是解释与编译混合执行模式且虚拟机不是刚启动时)。</p> <p>解释器： 解释器用来解释class文件（字节码），java是解释语言（书上这么说的）。</p> <p><strong>4、JVM 内存区域分类哪些？</strong></p> <p><strong>5、堆和栈区别是什么？</strong></p> <p><strong>6、JVM 哪块内存区别不会发生内存溢出？</strong></p> <p><strong>7、什么情况下会发生栈内存溢出？</strong></p> <p><strong>8、对象都是在堆上分配的吗？</strong></p> <p><strong>9、你怎么理解强、软、弱、虚引用？</strong></p> <p><strong>10、常用的 JVM 参数有哪些？</strong></p> <p><strong>11、Java 8 中的内存结构有什么变化？</strong></p> <p><strong>12、Java 8 中的永久代为什么被移除了？</strong></p> <p><strong>13、什么是类加载器？</strong></p> <p><strong>14、类加载器的分类及作用？</strong></p> <p><strong>15、什么是双亲委派模型？</strong></p> <p><strong>16、为什么要打破双亲委派模型？</strong></p> <p><strong>17、可以自定义一个 java.lang.String 吗？</strong></p> <p><strong>18、什么是 JVM 内存模型？</strong></p> <p><strong>19、JVM 内存模型和 JVM 内存结构的区别？</strong></p> <p><strong>20、什么是指令重排序？</strong></p> <p><strong>21、内存屏障是什么？</strong></p> <p><strong>22、什么是 Happens-Before 原则？</strong></p> <p><strong>23、GC 是什么？为什么需要 GC？</strong></p> <p><strong>24、什么是 MinorGC 和 FullGC？</strong></p> <p><strong>25、一次完整的 GC 流程是怎样的？</strong></p> <p><strong>26、JVM 如何判断一个对象可被回收？</strong></p> <p><strong>27、常用的垃圾收集器有哪些？</strong></p> <p><strong>28、常用的垃圾回收算法有哪些？</strong></p> <p><strong>29、什么是内存泄漏？</strong></p> <p><strong>30、为什么会发生内存泄漏？</strong></p> <p><strong>31、如何防止内存泄漏？</strong></p> <p><strong>32、什么是直接内存？</strong></p> <p><strong>33、直接内存有什么用？</strong></p> <p><strong>34、怎样访问直接内存？</strong></p> <p><strong>35、常用的 JVM 调优命令有哪些？</strong></p> <p><strong>36、常用的 JVM 问题定位工具有哪些？</strong></p> <p><strong>37、常用的主流 JVM 虚拟机都有哪些？</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ifan/Notes/JVM/Java集合.html" class="prev">
        Java集合
      </a></span> <span class="next"><a href="/ifan/Notes/JVM/Java基础.html">
        Java基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ifan/assets/js/app.e2c1e3a4.js" defer></script><script src="/ifan/assets/js/2.733019b2.js" defer></script><script src="/ifan/assets/js/9.2a317ffb.js" defer></script>
  </body>
</html>
